<p-card>
    <h3>Tarefa</h3>
    <div class="ui-float-label div-pesquisa">
        <input pInputText [(ngModel)]="filtro.querry" class="pesquisa" type="text" />
        <button (onClick)="pesquisarResponsavel()" type="button" class="ui-button-rounded ui-button-info"
            [label]="'Pesquisar'" pButton></button>
    </div>

    <p-table #tabela [value]="pageResponsavel.content" [lazy]="true" (onLazyLoad)="pesquisarResponsavel()"
        [paginator]="true" [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]"
        [currentPageReportTemplate]="'Página {currentPage} de {totalPages}'"
        [totalRecords]="pageResponsavel.totalElementos" [scrollable]="true">

        <ng-template pTemplate="header">
            <tr>
                <th>Nome</th>
                <th>Data Nascimento</th>
                <th>Email</th>
                <th>Tarefas</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-responsavel>
            <tr p>
                <td>{{responsavel.nome}}</td>
                <td>{{responsavel.dataNascimento}}</td>
                <td>{{responsavel.email}}</td>
                <td>{{responsavel.tarefas}}</td>
            </tr>
        </ng-template>

    </p-table>
</p-card>



<div class="p-d-flex p-jc-end">

    <button class="p-ml-2" type="button" (click)="mostrarDialog()" pButton label="Cadastrar Responsavel"></button>
</div>

<p-table [value]="responsaveis">
    <ng-template pTemplate="header">
        <tr>
            <th>Nome</th>
            <th>Data de Nascimento</th>
            <th style="width: 80px;">Ações</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-responsavel>
        <tr>

            <td>{{responsavel.nome}}</td>
            <td>{{responsavel.dataNascimento | date: 'dd/MM/yyyy'}}</td>

            <td class="p-d-flex p-jc-center">

                <button (click)="mostrarDialogEditar(responsavel.id)" pButton type="button"
                    icon="pi pi-pencil"></button>

                <button (click)="confirmarDeletarResponsavel(responsavel.id)" class="p-ml-2" pButton type="button"
                    icon="pi pi-trash"></button>
            </td>
        </tr>
    </ng-template>
</p-table>


<p-dialog header="Title" [(visible)]="exibirDialog">
    <app-responsavel-form [responsavel]="responsavel" [edicao]="formularioEdicao"
        (responsavelSalvo)="fecharDialog($event)">
    </app-responsavel-form>
</p-dialog>

<p-confirmDialog header="Confirmar Remover Responsavel" icon="pi pi-exclamation-triangle"></p-confirmDialog>